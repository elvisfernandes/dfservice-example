<div class="container">
  <p>Is logged in? {{dfservice.isLoggedIn()}}</p>
  <p>Session token: {{dfservice.session_token}}</p>
  <p class="small">Try logging in with user@example.com / abc123</p >
  <input #email type="text" placeholder="Email / login"><br />
  <input #password type="text" placeholder="Password"><br />
  <button (click)='login(email.value, password.value)'>Log in</button>
  <button (click)='logout()'>Log out</button>
</div>

<div class="container">
  <div>
    <h2>New element</h2>
    <input type="text" [(ngModel)]="newEvent.title" placeholder="New event title"><br />
    <input type="text" [(ngModel)]="newEvent.city" placeholder="New event city"><br />
    <input type="text" [(ngModel)]="newEvent.description" placeholder="New event description"><br />
    <button (click)='create()'>Create</button>
  </div>

  <hr>

  <button (click)='refresh()'>Refresh</button>
  <table>
    <thead>
      <th>ID</th>
      <th>Title</th>
      <th>City</th>
      <th>Description</th>
      <th>Action</th>
    </thead>
    <tbody>
      <tr *ngFor="let event of dfstore.items | async">
        <td><input type="text" [(ngModel)]="event.id"></td>
        <td><input type="text" [(ngModel)]="event.title"></td>
        <td><input type="text" [(ngModel)]="event.city"></td>
        <td><input type="text" [(ngModel)]="event.description"></td>
        <td>
          <button (click)='delete(event.id)'>Delete</button>
          <button (click)='update(event)'>Update</button>
        </td>
      </tr>
    </tbody>
  </table>

  <hr>

  <h2>This is what we have in dfstore so far:</h2>
  <pre>
  {{dfstore.items | async | json}}
  </pre>
</div>
